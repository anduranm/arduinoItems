    <!DOCTYPE html>
  <html lang="en">
  
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Configurar WiFi</title>
      <style>
          body {
              display: flex;
              justify-content: center;
              align-items: center;
              margin-top: 10vw;
              font-family: Arial, sans-serif;
          }
  
          .container {
              text-align: center;
              border: 1px solid #ccc;
              padding: 20px;
              border-radius: 10px;
              box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
          }
  
          select,
          input {
              width: 100%;
              padding: 10px;
              margin: 10px 0;
              border-radius: 5px;
              border: 1px solid #ccc;
          }
  
          input[type="submit"],
          .buttonConfig {
              background-color: #22a378;
              color: white;
              border: none;
              cursor: pointer;
              border-radius: 10px;
              transition: background-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
              box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          }
  
          input[type="submit"]:hover,
          .buttonConfig:hover {
              background-color: #1e8d6b;
              box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2), 0 4px 6px rgba(0, 0, 0, 0.1);
              transform: translateY(-2px);
          }
  
          input[type="submit"]:active,
          .buttonConfig:active {
              background-color: #1e8d6b;
              box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15);
              transform: translateY(0);
          }
  
          .hidden {
              display: none;
          }
  
          .buttonConfig {
              width: 100%;
              height: 8vw;
              font-size: 1.8vw;
              font-weight: bold;
          }
          .form-control{
              width: 80%;
          }
          .network {
              display: flex;
              gap: 12px;
          }
      </style>
  
  </head>
  
  <body>
      <div class="container">
          <h1>Estado de conexion:</h1> 
          <span>)rawliteral" + internetStatus + R"rawliteral(</span>
  
          <h2>Configurar Tiempo del Dispensador</h2>
          <form action="/setDispenseDuration" method="POST" class="mb-3">
              <label for="duration">Tiempo en milisegundos:</label>
              <input type="text" id="duration" name="duration" class="form-control" value=")rawliteral"
                  + String(DISPENSE_DURATION) + R"rawliteral("><br>
              <input type="submit" value="Actualizar Tiempo" class="btn btn-success">
          </form>
  
          <h2>Restablecer Configuración de Alexa</h2>
          <form action="/resetAlexaConfig" method="POST">
              <input type="submit" value="Restablecer Alexa" class="btn btn-danger">
          </form>
  
          <div class="network">
              <button class="buttonConfig" id="buttonApConfig">Config Access Point</button>
              <button class="buttonConfig" id="buttonWifiConfig">Config WIFI</button>
          </div>
  
          <div class="accessPoint hidden">
  
              <h1>Config Access Point</h1>
              <form action="/configAP" method="POST">
                  <label for="ap_ssid">Access Point Name:</label>
                  <input type="text" name="ap_ssid" value=")rawliteral" + savedAPSSID + R"rawliteral("><br>
                  <label for="ap_password">Password AP:</label>
                  <input type="text" name="ap_password" value=")rawliteral" + savedAPPassword + R"rawliteral("><br>
                  <input type="submit" value="saveAP">
              </form>
          </div>
          <div class="wifi hidden">
              <h1>Configurar WIFI</h1>
              <form action="/connect" method="POST">
                  <label for="ssid">SSID:</label>
                  <select id="ssid" name="ssid"></select><br>
                  <label for="password">Password:</label>
                  <input type="text" name="password" value=""><br>
                  <input type="submit" value="Connect">
              </form>
              <h2>Red conectada:</h2> 
              <span>)rawliteral" + connectedSSID + R"rawliteral( </span>
          <h2>Contraseña de red:</h2> <span>)rawliteral" + connectedPassword + R"rawliteral(</span>
          </div>
      </div>
      <script>
          document.getElementById("buttonApConfig").addEventListener("click", function () {
              document.querySelector(".accessPoint").classList.toggle("hidden");
              document.querySelector(".wifi").classList.add("hidden");
          });
          document.getElementById("buttonWifiConfig").addEventListener("click", function () {
              document.querySelector(".wifi").classList.toggle("hidden");
              document.querySelector(".accessPoint").classList.add("hidden");
          });
  
          function updateNetworks(networks) {
              const select = document.getElementById('ssid');
              select.innerHTML = '';
              networks.forEach(network => {
                  const option = document.createElement('option');
                  option.value = network;
                  option.text = network;
                  select.add(option);
              });
          }
  
          function fetchNetworks() {
              fetch('/scan')
                  .then(response => response.json())
                  .then(data => updateNetworks(data))
                  .catch(error => console.error('Error:', error));
          }
  
          document.addEventListener('DOMContentLoaded', fetchNetworks);
  
          document.getElementById('duration').addEventListener('input', function (e) {
              // Elimina cualquier carácter no numérico
              this.value = this.value.replace(/[^0-9]/g, '');
              
              // Asegúrate de que el valor no sea menor que 5
              if (this.value !== '' && parseInt(this.value) < 5) {
                  this.value = '5';
              }
          });
      </script>
  </body>
  
  </html>
